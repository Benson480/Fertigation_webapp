{% extends "master.html" %}

{% block title %}
  FETILIZERS APP - LIST ALL FERTILIZERS
{% endblock %}

<style>
.mycard ul
{
list-style-type: none;
padding: 0;
margin: 0;
text-align: right;
}
.mycard
{
width: 10%;
}

.Fertresults h1 {
  position: sticky;
}
.mycard #id01 li{
    text-align: right;
    list-style-position: inside;
}
</style>
{% block content %}
  <div class="myentry" style="left: 13%; background-color: #d5d0d0; width: 50%;height:550px; position: fixed; float: left; top: 62px; right: -19px; z-index: 0; display:block; overflow-x: hidden;">
  <div style="background-color: #d5d0d0; width: 40%; min-height: 1.62em; line-height: normal; vertical-align: initial; height: 500px; position: static; margin: 0px auto; padding: 0px 30px 20px; right:70%; top: 10px; z-index: 0; float: left; vertical-align:bottom; overflow-x: hidden; margin-bottom: 0em;">

    <h1>Fertilizers Amount</h1>
    <ul id="id00">   
        <form method="POST" class="post-form">{% csrf_token %}  
                {{ form.as_p }}  
                <button type="submit" class="save btn btn-default">Save</button>  
          </form> 
          <button onclick="window.location.href='/members';">
            Back
          </button>
    </ul> 
      <p></p>
      <p></p>


      <div style="position: fixed;
      bottom: 0px;
      left: -42%;
      float: left;
      opacity: 0.6;
      padding: 0em 3.1em;

      "
      >
    <img src="https://eos.com/wp-content/uploads/2021/03/nutrients-in-soil.jpg.webp" style="width:27.85%" height="height:10%">
  </div>


    <div class="Fertresults" style="float: right; width: 70%; height:550px; position: fixed; float: right; top: 14px; right: -19px; z-index: 0; display:block; overflow-x: hidden;">
      <div style="background-color: hwb(0 98% 1%); width: 70%; min-height: 1.62em; line-height: normal; vertical-align: initial; height: 570px; position: static; margin: 0px auto; padding: 0px 30px 20px; right:70%; top: 10px; z-index: 0; float: right; vertical-align:bottom; overflow-x: hidden; margin-bottom: 0em;">
        <h1>Fertilizers records</h1>
        <ul id="id01">
          <h3>--------------------------------------- <button onclick="window.location.href='/members';">
           Back
          </button>
        <button onclick="sortListDir()">Sort</button>-----------------------------------------------</h3>
        <table border="1">
        {% for x in mymember %}
        <tr>
              {% if x.Fertilizer is not None %}
              <td>{{ x.id}}</td>
              <td>{{ x.Date}}</td>
              <td>{{ x.Fertilizer }}</td>
              <td>{{ x.amount }}</td>
              <td><a style="color: green;" href="update/{{ x.id }}">Edit</a></td>
              <td><a style="color: red;" href="delete/{{ x.id }}">Delete</a></td>
              {% endif %}
        </tr>     
          {% endfor %}
        </table>

          
        </ul> 
        
<script>
function sortListDir() {
  var list, i, switching, b, shouldSwitch, dir, switchcount = 0;
  list = document.getElementById("id01");
  switching = true;
  // Set the sorting direction to ascending:
  dir = "asc"; 
  // Make a loop that will continue until no switching has been done:
  while (switching) {
    // start by saying: no switching is done:
    switching = false;
    b = list.getElementsByTagName("LI");
    // Loop through all list-items:
    for (i = 0; i < (b.length - 1); i++) {
      //start by saying there should be no switching:
      shouldSwitch = false;
      /* check if the next item should switch place with the current item,
      based on the sorting direction (asc or desc): */
      if (dir == "asc") {
        if (b[i].innerHTML.toLowerCase() > b[i + 1].innerHTML.toLowerCase()) {
          /* if next item is alphabetically lower than current item,
          mark as a switch and break the loop: */
          shouldSwitch = true;
          break;
        }
      } else if (dir == "desc") {
        if (b[i].innerHTML.toLowerCase() < b[i + 1].innerHTML.toLowerCase()) {
          /* if next item is alphabetically higher than current item,
          mark as a switch and break the loop: */
          shouldSwitch= true;
          break;
        }
      }
    }
    if (shouldSwitch) {
      /* If a switch has been marked, make the switch
      and mark that a switch has been done: */
      b[i].parentNode.insertBefore(b[i + 1], b[i]);
      switching = true;
      // Each time a switch is done, increase switchcount by 1:
      switchcount ++;
    } else {
      /* If no switching has been done AND the direction is "asc",
      set the direction to "desc" and run the while loop again. */
      if (switchcount == 0 && dir == "asc") {
        dir = "desc";
        switching = true;
      }
    }
  }
}
</script>
</div>
</div>

{% endblock %}
