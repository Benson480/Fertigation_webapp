{% extends "master.html" %}

{% block title %}
  FERTILIZERS DASHBOARD
{% endblock %}

{% block styles %}
<style>
  /* Add your custom styles here */

  /* Dashboard container */
  .dashboard-container {
    display: grid;
    grid-template-columns: 1fr 3fr;
    grid-gap: 20px;
    height: 100vh;
    padding: 20px;
  }

  /* Sidebar */
  .sidebar {
    background-color: #007f46;
    color: #fff;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .sidebar h3 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 18px;
  }

  .sidebar ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .sidebar li {
    margin-bottom: 10px;
  }

  .sidebar a {
    color: #fff;
    text-decoration: none;
    font-size: 16px;
    display: flex;
    align-items: center;
  }

  .sidebar a:hover {
    color: #f1f1f1;
  }

  /* Main content */
  .content {
    background-color: #f1f1f1;
    padding: 20px;
    display: flex;
    flex-direction: column;
  }

  .content h2 {
    margin-top: 0;
    margin-bottom: 20px;
  }

  /* Charts */
  .chart-container {
    flex: 1;
    display: flex;
    justify-content: space-between;
  }

  .chart {
    flex: 1;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    border-radius: 4px;
    padding: 20px;
    margin-right: 10px;
  }

  /* Tables */
  .table-container {
    margin-top: 20px;
    overflow-x: auto;
  }

  .table {
    border-collapse: collapse;
    width: 100%;
  }

  .table th,
  .table td {
    padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd;
  }

  .table th {
    background-color: #f2f2f2;
  }
  
</style>
{% endblock %}

{% block content %}
<div class="dashboard-container">
  <div class="sidebar">
    <h2>Fertigation System Dashboard</h2>
    <ul>
      <a href="/dashboard" class="image-link" style="position: relative; display: inline-block; margin-bottom: 40px; margin-right: 10px;">
        <img src="https://cropnuts.com/wp-content/uploads/2020/01/pp2.jpg" width="348px" height="200px" alt="FERTILIZER REGIME" title="FERTILIZER REGIME">
        <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; color: hsla(0, 94%, 53%, 0.918); font-size: 40px; font-weight: bold;">FERTILIZER REGIME</span>
      </a>

      <a href="/Fertilizers" class="image-link" style="position: relative; display: inline-block; margin-bottom: 40px;  margin-right: 10px;">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSmQPGDC6v7hK41cM0-3ZhdOBw26RfVkHPGp7DDwrlwQMttlUoobWfBukimtCBkuPa66q8&usqp=CAU" width="348px" height="200px" alt="Farm Management" title="FERTILIZER MANAGEMENT">
        <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; color: #f30f0fea; font-size: 30px; font-weight: bold;">FERTILIZER MANAGEMENT</span>
      </a>

      <a href="https://cropnuts.com/" target="_blank" class="image-link" style="position: relative; display: inline-block; margin-bottom: 40px; margin-right: 00px">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSbzunx2_xY0Ro0MDgoyvin672pW7AyVV6ld4j86E9VtVprBxyKif6GfzSr138EyO7Fa30&usqp=CAU" width="348px" height="200px" alt="LABORATORY TEST" title="LABORATORY TEST">
        <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; color: hsla(0, 100%, 50%, 0.918); font-size: 30px; font-weight: bold;">LABORATORY TEST</span>
      </a>

      <a href="/Fertilizers" class="image-link" style="position: relative; display: inline-block; width: 500px; height: 400px; margin-bottom: 40px; margin-right: 40px;">
        <iframe src="https://www.tomorrow.io/weather/KE/31/Naivasha/064846/" frameborder="0" style="width: 100%; height: 100%;" allowfullscreen></iframe>
        <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; color: rgb(35, 218, 117); font-size: 30px; font-weight: bold;">WEATHER</span>
      </a>

      <a href="/Fertilizers" class="image-link" style="position: relative; display: inline-block; width: 523px; height: 400px; margin-bottom: 40px; margin-right: 10px">
        <iframe src="https://getin4.com/fertilizer-companies-in-kenya/" frameborder="0" style="width: 100%; height: 100%;" allowfullscreen></iframe>
        <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; color: rgb(35, 218, 117); font-size: 30px; font-weight: bold;">FERTILIZER DELEARS</span>
      </a>

      <a href="/reports" class="image-link" style="position: relative; display: inline-block; margin-bottom: 40px;">
        <img src="https://www.soundandcommunications.com/wp-content/uploads/2019/11/Data-Ana.jpg" width="356px" height="200px" alt="FERTILIZER REGIME" title="FERTILIZER REGIME">
        <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; color: hsla(0, 94%, 53%, 0.918); font-size: 40px; font-weight: bold;">REPORTS</span>
      </a>

      <a href="/settings" class="image-link" style="position: relative; display: inline-block; margin-bottom: 20px;">
        <img src="https://i0.wp.com/finertech.com/wp-content/uploads/2015/10/f2f93-settings-ios-icon.png?ssl=1" width="356px" height="200px" alt="settings" title="SETTINGS">
        <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; color: #f30f0fea; font-size: 30px; font-weight: bold;">SETTINGS</span>
      </a>
    </ul>
  </div>
</div>

  <div class="content">
    <h2>Fertigation System Dashboard</h2>
    <div class="chart-container">
      <div class="chart">
        <canvas id="moistureChart"></canvas>
      </div>
      <div class="chart">
        <canvas id="phChart"></canvas>
      </div>
    </div>
    <div class="table-container">
      <table class="table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Time</th>
            <th>Moisture Level</th>
            <th>pH Level</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>2023-07-01</td>
            <td>08:00 AM</td>
            <td>45%</td>
            <td>6.8</td>
          </tr>
          <tr>
            <td>2023-07-01</td>
            <td>12:00 PM</td>
            <td>50%</td>
            <td>7.2</td>
          </tr>
          <tr>
            <td>2023-07-01</td>
            <td>04:00 PM</td>
            <td>48%</td>
            <td>7.0</td>
          </tr>
          <!-- Add more rows with dynamic data -->
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- Include Chart.js library -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // Example data for charts
  var moistureData = {
    labels: ["8 AM", "12 PM", "4 PM"],
    datasets: [{
      label: "Moisture Level",
      data: [45, 50, 48],
      backgroundColor: "rgba(75, 192, 192, 0.2)",
      borderColor: "rgba(75, 192, 192, 1)",
      borderWidth: 1
    }]
  };

  var pHData = {
    labels: ["8 AM", "12 PM", "4 PM"],
    datasets: [{
      label: "pH Level",
      data: [6.8, 7.2, 7.0],
      backgroundColor: "rgba(255, 99, 132, 0.2)",
      borderColor: "rgba(255, 99, 132, 1)",
      borderWidth: 1
    }]
  };

  // Get chart canvas elements
  var moistureChartCanvas = document.getElementById("moistureChart").getContext("2d");
  var pHChartCanvas = document.getElementById("phChart").getContext("2d");

  // Create charts
  var moistureChart = new Chart(moistureChartCanvas, {
    type: "line",
    data: moistureData,
    options: {
      responsive: true,
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });

  var pHChart = new Chart(pHChartCanvas, {
    type: "line",
    data: pHData,
    options: {
      responsive: true,
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
</script>

{% endblock %}
